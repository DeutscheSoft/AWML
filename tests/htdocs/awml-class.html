<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script type="module" src="../../src/index.js"></script>
    <script type="module">
      import { assertEqual, define, waitForFrame } from './testing.js';
      define(async () => {
        const div = document.querySelector('div');
        const awmlClass = div.querySelector('awml-class');

        await waitForFrame();

        assertEqual(div.classList.contains('bar'), true);
        awmlClass.remove();
        assertEqual(div.classList.contains('bar'), false);
      });
    </script>
    <awml-backend name="test" type="local"> { "foo" : "bar" } </awml-backend>
  </head>
  <body>
    <div>
      <awml-class src="test:foo"></awml-class>
    </div>
  </body>
</html>
