<html>
  <head>
    <script type=module src="../src/index.js"></script>
    <script type=module>
      import { assertEqual } from './testing.js';
      window.addEventListener('load', () => {
        const div = document.querySelector('div');
        const awmlClass = div.querySelector('awml-class');

        requestAnimationFrame(() => {
          assertEqual(div.classList.contains('bar'), true);
          awmlClass.remove();
          assertEqual(div.classList.contains('bar'), false);
        });
      });
    </script>
    <awml-backend name="test" type="local">
      {
        "foo" : "bar"
      }
    </awml-backend>
  </head>
  <body>
    <div>
      <awml-class src=test:foo></awml-class>
    </div>
  </body>
</html>
